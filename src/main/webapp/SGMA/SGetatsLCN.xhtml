<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">



<h:head>

	<h:title>NCRM-Extraction </h:title>

</h:head>
<h:body id="repoBrowse" class="" style="cursor: auto;">

	<ui:composition template="/Layout/commonLayout.xhtml">
		<ui:define name="content">
			<div class="content">
				<div class="header ">
					<div class="title">
						<h2>
							<h:outputText value="SGMA-#{commun['bpmetatsLCN']}" />
							<h:outputText value=" " />
							<!-- <h:outputText value="#{commun['titreGetSIChq']}" /> -->
						</h2>



					</div>


				</div>

				<div id="resultsContainer" class="body">





					<div
						style="width: 90%; margin-right: 5%; margin-left: 5%; margin-top: 1%">
						<h:form id="form1">
							
							<p:ajaxStatus onstart="PF('statusDialog').show()"
								onsuccess="PF('statusDialog').hide()" />

							<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
								closable="false" resizable="false" showHeader="false">
								<p:graphicImage name="images/progressbar.gif" />
							</p:dialog>


							<!-- Panel 1 -->

							<p:panel id="horizontal" header="#{commun['listEtatsLCN']}"
								toggleable="true" style="  margin-bottom:5px">

								<!-- Panel Searsh  -->
								<p:panelGrid
									style="margin: 0 auto;">

									<p:row>

										<p:column style="border-color: #ffffff ;">
											<p:outputLabel 
												value="#{commun['dtetr']}" />
										</p:column>
										<p:column style="border-color: #ffffff ;">
										<p:calendar id="button" value="#{Etats_LcnSGBean.datetr}" pattern="dd-MM-yyyy" mask="true" >
										 <p:ajax event="dateSelect"  listener="#{Etats_LcnSGBean.dateChange}" update="form1:dtePr"/>
										 </p:calendar>
										</p:column>

                                        
										

										<p:column style="border-color: #ffffff ;">
											
												

											

<p:commandButton icon="ui-icon-refresh" value="Synchro"
												style="width:100%;" title="Synchro"
												actionListener="#{Etats_LcnSGBean.extraireetatsLcn}"
												>
												
												</p:commandButton>

										</p:column>

									</p:row>
									
									<p:row>
									<p:column style="border-color: #ffffff ;">
											<p:outputLabel 
												value="#{commun['dtePr']}" />
										</p:column>
										<p:column style="border-color: #ffffff ;">
										<p:calendar id="dtePr" value="#{Etats_LcnSGBean.datePr}" pattern="dd-MM-yyyy" mask="true" />
										</p:column>
										<p:column style="border-color: #ffffff ;">
											
<p:commandButton icon="ui-icon-arrowthickstop-1-s "
												value="Editer Rec " style="width:100%;" title="Éditer le fichier de réconciliation WebCapture"
												actionListener="#{Etats_LcnSGBean.editRcWc}">
											</p:commandButton>
											



										</p:column>
									
									</p:row>
									
										<p:row>

										<p:column style="border-color: #ffffff ;">
										
										</p:column>

										<p:column style="border-color: #ffffff ;">


											<p:selectCheckboxMenu id="multipleTrt"
												value="#{Etats_LcnSGBean.selectedTrts}"
												label="Traitements" multiple="true" filter="true"
												filterMatchMode="startsWith" style="width:100%;"  panelStyle="width:250px">
												<f:selectItems value="#{Etats_LcnSGBean.trts}" 
												var="t"
													itemLabel="#{t.nom_Traitement}"
													itemValue="#{t.nom_Traitement}"
												
												
												
												/>
											</p:selectCheckboxMenu>

										</p:column>
										<p:column style="border-color: #ffffff ;">

											



										</p:column>

									</p:row>

	<p:row>

										<p:column style="border-color: #ffffff ;">
										
										</p:column>

										<p:column style="border-color: #ffffff ;">


											<p:selectCheckboxMenu id="multiple"
												value="#{Etats_LcnSGBean.selectedpcapts}"
												label="Points de capture" multiple="true" filter="true" 
												filterMatchMode="startsWith" style="width:100%;"  panelStyle="width:250px">
												<f:selectItems value="#{Etats_LcnSGBean.pcapts}" 
												var="p"
													itemLabel="#{p.cdePcapt} - #{p.nomPcapt}"
													itemValue="#{p.cdePcapt}"
												
												
												
												/>
											</p:selectCheckboxMenu>

										</p:column>
										<p:column style="border-color: #ffffff ;">

											<p:commandButton icon="ui-icon-arrowthickstop-1-s "
												value="Editer ETA" style="width:100%;"  title="Éditer les états d'accompagnement "
												actionListener="#{Etats_LcnSGBean.editetatsLCN}">
											</p:commandButton>



										</p:column>

									</p:row>
								</p:panelGrid>

<p:messages id="messages" showDetail="true" autoUpdate="true" closable="false" style="width: 90%; margin-right: 5%; margin-left: 5%; margin-top: 1%" />
								




								
								
								
							</p:panel>
<p:confirmDialog global="true" showEffect="fade"
								hideEffect="fade">
								<p:commandButton value="Yes" type="button"
									styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
								<p:commandButton value="No" type="button"
									styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
							</p:confirmDialog>

													</h:form>
					</div>



				</div>

			</div>



			

		</ui:define>
	</ui:composition>

</h:body>
</html>


